"use strict";(globalThis.webpackChunkthe_world_of_beer=globalThis.webpackChunkthe_world_of_beer||[]).push([[949],{5157:(e,s,a)=>{a.d(s,{h:()=>m});var r=a(528),t=a(2791),i=a(4880),n=a(1523);const o="Header_toolbar__SY9OE",c="Header_wrapper__iXyu9",d="Header_title__Axwvs",l="Header_link__0kelW";var g=a(184);const m=(0,t.memo)((e=>{let{title:s,isLoading:a}=e;const t=(0,i.TH)().pathname;return(0,g.jsx)(r.Gu,{children:(0,g.jsx)(r.sr,{className:o,children:(0,g.jsxs)("div",{className:c,children:[t.includes("beer")&&(0,g.jsx)(n.rU,{to:"/",className:l,children:"Home"}),(0,g.jsx)(r.wd,{className:d,children:a?(0,g.jsx)(r.CK,{style:{height:"20px"},animated:!0}):s})]})})})}))},3991:(e,s,a)=>{a.d(s,{w:()=>c});var r=a(2791);const t="LazyImage_img__KXa4g",i="LazyImage_visible__W+GK+";var n=a(528);var o=a(184);const c=(0,r.memo)((e=>{let{url:s,loaderSize:a,className:c,alt:d}=e;const{imageLoaded:l,imagesIsLoading:g}=(e=>{const[s,a]=(0,r.useState)(!0),t=(0,r.useRef)(0);return{imagesIsLoading:s,imageLoaded:()=>{t.current+=1,t.current<=e.length&&a(!1)}}})(s);return(0,o.jsxs)(o.Fragment,{children:[g&&(0,o.jsx)(n.CK,{animated:!0,style:a}),(0,o.jsx)("img",{onLoad:l,className:`${c} ${g?t:i}`,src:s,alt:d})]})}))},6296:(e,s,a)=>{a.d(s,{t:()=>t});var r=a(7477);const t=e=>{const s=e;var a;return(0,r.IZ)(s)?null!==(a=s.response)&&void 0!==a&&a.data?s.response.data.error:s.message:`Native error ${s.message}`}},5957:(e,s,a)=>{a.d(s,{F:()=>d});var r=a(5847),t=a(6854),i=a(1085),n=a(1033);const o=e=>n.e.get("beers",{params:e});var c=a(6296);const d=(0,r.Ue)((0,i.tJ)((0,t.n)(((e,s)=>({beers:[],status:"idle",errorMessage:"",currentPage:1,favorites:[],setBeerList:async()=>{const a=s().currentPage;e((e=>{e.status="loading"}));try{const s=await o({page:a,per_page:5});e((e=>{e.beers=s.data,e.status="success"}))}catch(r){const s=(0,c.t)(r);e((e=>{e.status="failed",e.errorMessage=s}))}},changeCurrentPage:s=>{e((e=>{e.currentPage=s}))},addFavorite:a=>{s().favorites.find((e=>e.id===a.id))||e((e=>{e.favorites.push(a)}))},removeFavorite:s=>{e((e=>{const a=e.favorites.findIndex((e=>e.id===s));a>=0&&e.favorites.splice(a,1)}))}}))),{name:"beer-list",partialize:e=>Object.fromEntries(Object.entries(e).filter((e=>{let[s]=e;return["favorites"].includes(s)})))}))},2949:(e,s,a)=>{a.r(s),a.d(s,{Details:()=>H});var r=a(528),t=a(2791),i=a(5847),n=a(6854),o=a(1033);const c=e=>o.e.get(`beers/${e}`);var d=a(6296);const l=(0,i.Ue)((0,n.n)((e=>({beer:{},status:"idle",errorMessage:"",getBeer:async s=>{e((e=>{e.status="loading"}));try{const a=await c(s);e((e=>{e.beer=a.data[0],e.status="success"}))}catch(a){const s=(0,d.t)(a);e((e=>{e.errorMessage=s,e.status="failed"}))}}}))));var g=a(4880),m=a(5157);const _="BeerCard_img__96mCX",u="BeerCard_text__Kee75",h="BeerCard_title__gRd7O",x="BeerCard_subtitle__ajJQO",j="BeerCard_description__-X7Fk";var v=a(2926),p=a(3991),b=a(5957),f=a(184);const N=(0,t.memo)((e=>{let{beer:s}=e;const{abv:a,description:t,name:i,image_url:n,tagline:o}=s,{addFavorite:c}=(0,b.F)();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(p.w,{className:_,url:n,alt:i,loaderSize:{height:"350px"}}),(0,f.jsxs)(r.Zi,{children:[(0,f.jsxs)(r.yW,{className:u,children:["Alcohol by volume: ",a]}),(0,f.jsx)(r.Dq,{className:h,children:i}),(0,f.jsx)(r.tO,{className:x,children:o})]}),(0,f.jsxs)(r.FN,{children:[(0,f.jsx)(r.yW,{className:j,children:t}),(0,f.jsx)("p",{children:(0,f.jsxs)(r.YG,{className:j,onClick:()=>{c(s)},id:"open-toast",children:[(0,f.jsx)(r.gu,{slot:"start",icon:v.sdP}),"Add to favorites"]})})]}),(0,f.jsx)(r.Px,{color:"success",trigger:"open-toast",animated:!0,position:"top",message:`${i} added to favorites`,duration:500})]})}));var k=a(6186),w=a(1523);const y="Footer_wrapper__8cv7u",C="Footer_link__HIIkX",F="Footer_disabled__VG1a7",B=(0,t.memo)((e=>{let{to:s}=e;const{goBack:a}=(0,g.k6)();return(0,f.jsx)(r.fr,{children:(0,f.jsx)(r.sr,{children:(0,f.jsxs)("div",{className:y,children:[(0,f.jsx)("span",{onClick:a,className:C,children:"Back"}),(0,f.jsx)(w.rU,{to:"/beer/"+(+s+1),className:`${C} ${+s>=100?F:""}`,children:"Next"})]})})})})),L=e=>e.status,$=e=>e.errorMessage,I=e=>e.beer,O=e=>e.getBeer,H=()=>{const e=l(I),s=l(O),a=l(L),i=l($),{id:n}=(0,g.UO)();return(0,t.useEffect)((()=>{s(+n)}),[n,s]),(0,f.jsxs)(r._i,{children:[(0,f.jsx)(m.h,{isLoading:"loading"===a,title:`Beer: ${e.name}`}),(0,f.jsxs)(r.W2,{children:["success"===a&&(0,f.jsx)(N,{beer:e}),"loading"===a&&(0,f.jsx)(k.A,{}),"failed"===a&&(0,f.jsx)(r.wd,{style:{textAlign:"center"},color:"danger",children:i})]}),(0,f.jsx)(B,{to:n}),(0,f.jsx)(r.Px,{position:"middle",color:"danger",isOpen:"failed"===a,message:`${i}`,duration:2e3})]})}},1033:(e,s,a)=>{a.d(s,{e:()=>r});const r=a(1243).Z.create({baseURL:"https://api.punkapi.com/v2/"})}}]);
//# sourceMappingURL=949.3f3954cf.chunk.js.map